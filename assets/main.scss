---
---

@import 'variables';
@import 'graphics';
@import 'mixins';
@import 'normalize';

/* Main layout */

body {
	@include font($basefont, 400, normal, 20px, 1.5);
	background-color: $background-color;
	color: $textcolor;
	margin: 1em;
}

header {
	margin: 2rem auto 4.8387em auto;
	width: 100%;
	max-width: $basewidth;
	text-align: center;
}

main {
	width: 100%;
}

header a {
	background-image: $logo-green;
	display: inline-block;
	position: fixed;
	top: 1rem;
	right: 2rem;
	width: 4rem;
	height: 4rem;
	background-repeat: no-repeat;
	background-position: left center;
}

header a:after {
    background-image: $logo-grey;
	background-repeat: no-repeat;
	background-position: left center;
    content: "";
    opacity: 0;
    width: inherit;
    height: inherit;
    position: absolute;
    top: 0;
    left: 0;
    transition: opacity 200ms ease;
}

header a:hover {
	box-shadow: none;
}

header a:hover:after {
    opacity: 1;
	transition: opacity 200ms ease;
}

nav {
	text-align: center;
	@include font($metafont, 500, normal, 0.9em, 1.875em);
	color: $lighttext;
	max-width: $footerwidth;
	margin: 0 auto;
}

article {
	margin: 0 auto 4em auto;
}

article:last-child {
	margin-bottom: 4em;
}

article p {
	@include hyphernation(auto);
	width: 100%;
	max-width: $basewidth;
	margin: 1.5em auto;
	hanging-punctuation: first allow-end;
}

footer {
	@include font($metafont, 400, normal, 0.9em, 1.875em);
	@include hyphernation(auto);
	margin: 3.75em auto;
	max-width: $footerwidth;
}

/* Typography */

.datestamp {
	@include font($metafont, 400, normal, 1em, 1.5em);
	color: $lighttext;
	position: relative;
}


h1 {
	@include font($headingfont, 700, normal, 2.6em, 1.3636em);
	color: $headingcolor;
	letter-spacing: -0.02em;
	max-width: $headingwidth;
	@include hyphernation(none);
	margin: 1.3636em auto 0.6818em auto;
}

h2 {
	@include font($headingfont, 700, normal, 1.6em, 1.1333em);
}

strong {
	font-variant-caps: small-caps;
	font-feature-settings: "smcp";
	font-weight: normal;
	letter-spacing: 0.02em;
}

em {
	font-style: italic;
}

img {
	width: 100%;
	margin-bottom: 0.5em;
}

article .wide {
	max-width: 44em!important;
	margin-bottom: 2em;
}

ul {
  list-style-type: disc;
  list-style-position: outside;
}

blockquote {
	margin-left: 3em;
	hanging-punctuation: first allow-end;
}

.tags {
	@include font($metafont, 400, normal, 0.8em, 1.875em);
	max-width: $basewidth / 0.8;
}

/* Links */

a {
	text-decoration: none;
	color: $linkcolor;
}

.tags a {
	color: $lighttext;
	box-shadow: none;
	margin-right: 0.5em;
}

a:hover {
	color: #666666;
	box-shadow: inset 0 -0.1em 0 0 $background-color, inset 0 -0.25em 0 0 $light-accent;
}

article h1 a, article h2 a {
	color: $headingcolor;
}

article .outbound a{
	color: $headingcolor;
}

nav a {
	color: $altlink;
}

nav a:hover {
	box-shadow: none;
}

article p a, article .outbound a {
	box-shadow: inset 0 -0.1em 0 0 $background-color, inset 0 -0.25em 0 0 $accent;
}

article .outbound a {
	box-shadow: inset 0 -0.18em 0 0 $background-color, inset 0 -0.25em 0 0 $accent;
}

footer p a {
	color: $altlink;
	box-shadow: none;
}

article h1 a:hover {
	box-shadow: inset 0 -0.18em 0 0 $background-color, inset 0 -0.25em 0 0 #E6E6E6;
}

.entry-list {
	max-width: $basewidth;
	margin: 3em auto;
	list-style-type: none;
}

.entry-list li {
	margin-bottom: 3em;
}

.entry-list p {
	margin: 0;
}

.entry-list h2 {
	margin: 0.875em 0 0.4375em 0;
}

.outbound {
	@include font($headingfont, 700, italic, 1.3em, 1.1538em);
	color: $headingcolor;
	letter-spacing: -0.02em;
	@include hyphernation(auto);
	max-width: $basewidth / 1.3;
	margin: 0 auto -1.1538em auto;
	text-align: left;
	position: relative;
	left: 0.1em;
}

article .outbound .anchor {
	@include font($headingfont, 700, italic, 1.8em, 1.3636em);
	position: relative;
	height: 0;
	width: 1em;
	
	left: 0.2em;
	top: 0.08em;
	color: #ccc;
	box-shadow: none;
}

article .outbound .anchor:hover {
	color: $link-hover;
}

/* Footnotes */

.footnotes {
	font-size: 0.9em;
	line-height: 1.667em;
	border-top: 1px solid #999;
	width: 33%;
}

.footnotes ol {
	list-style-type: decimal;
	width: 300%;
}


sup {
	font-size: 0.9em;
	position: relative;
	bottom: 0.4em;
}

sup a, .reversefootnote {
	box-shadow: none!important;
	color: #9EE1CB;
}

.kindleContainer {
	max-width: $basewidth;
	margin: 0 auto;
	height: 0;
}

.kindleWidget {
	font-family: prenton, sans-serif;
	position: relative;
	top: -8em;
}

.kindleWidget img {
	width: inherit;
}

@import 'mediaqueries';